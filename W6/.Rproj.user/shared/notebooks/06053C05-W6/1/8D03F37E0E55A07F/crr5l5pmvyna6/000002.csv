"0","calcGDP <- function(selected_year = NULL, selected_country = NULL) {"
"0","	# Make sure we do not exit out of our script just because of a silly missing record:"
"0","	tryCatch({"
"0","		# Make sure the year is in the dataset and that country is a string:"
"0","		stopifnot(selected_year %in% gapminder$year | is.character(selected_country))"
"0","	"
"0","		gdp_df <- gapminder %>%"
"0","			filter(country == selected_country & year == selected_year)"
"0","	"
"0","		# Make sure we are only getting one record:"
"0","		stopifnot(nrow(gdp_df) == 1)"
"0","	"
"0","		return(gdp_df$pop * gdp_df$gdpPercap)"
"0","	},"
"0","	error = function(msg) {"
"0","		print(msg)"
"0","		return(NA)"
"0","	})"
"0","}"
"0",""
"0","# Check all of the years:"
"0","for (year in c(1967, 1977, 1987, 1997, 2007, 2017)) {"
"0","	print(str_c(year, ': ', round(calcGDP(year, 'Denmark'))))"
"0","}"
"1","[1]"
"1"," ""1967: 77116977700"""
"1","
"
"1","[1]"
"1"," ""1977: 103920280028"""
"1","
"
"1","[1]"
"1"," ""1987: 128771236166"""
"1","
"
"1","[1]"
"1"," ""1997: 157476118456"""
"1","
"
"1","[1]"
"1"," ""2007: 192906627081"""
"1","
"
"1","<"
"1",""
"1","simpleError"
"1",""
"1"," in "
"1",""
"1","calcGDP(year, ""Denmark"")"
"1",""
"1",": "
"1",""
"1","nrow(gdp_df) == 1 er ikke TRUE"
"1",""
"1",">
"
"1","[1]"
"1"," NA"
"1","
"
